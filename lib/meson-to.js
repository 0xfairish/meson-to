var MesonTo;(()=>{var t={663:t=>{function e(t,o=3){if(o)return Object.fromEntries(Object.keys(t).filter((e=>!e.startsWith("_")&&"function"!=typeof t[e])).map((s=>[s,"object"==typeof t[s]?e(t[s],o-1):t[s]])))}t.exports=function(t,o,s,n,i){const r=r=>{if("metamask-inpage"===r.data.target){const{data:t}=r.data.data;return void(["metamask_chainChanged","metamask_accountsChanged"].includes(t.method)&&o.postMessage({source:"app",data:t},s))}if(r.origin!==s)return;const{source:l,data:p}=r.data;if("meson.to"===l){if("2.0"===p.jsonrpc){if("get_global"===p.method){const n=t[p.params[0]];let i;return["string","number"].includes(typeof n)?i=n:"object"==typeof n&&(i=e(n)),void o.postMessage({source:"app",data:{jsonrpc:"2.0",id:p.id,result:i}},s)}return"trx_sign"===p.method?void tronWeb.trx.sign(...p.params).then((t=>{o.postMessage({source:"app",data:{jsonrpc:"2.0",id:p.id,result:t}},s)})).catch((t=>{o.postMessage({source:"app",data:{jsonrpc:"2.0",id:p.id,error:t}},s)})):void t.ethereum.request({method:p.method,params:p.params}).then((t=>{o.postMessage({source:"app",data:{jsonrpc:"2.0",id:p.id,result:t}},s)})).catch((t=>{o.postMessage({source:"app",data:{jsonrpc:"2.0",id:p.id,error:t}},s)}))}p.copy?t.navigator.clipboard.writeText(p.copy):p.height&&n?n(p.height):i&&(p.close?(a(),i.block(!1),i.close()):"boolean"==typeof p.blockClose&&i.block(p.blockClose))}};t.addEventListener("message",r);const a=()=>t.removeEventListener("message",r);return{dispose:a}}},138:(t,e,o)=>{const s=o(663),n=o(673);t.exports=class{constructor(t,e=!1){Object.defineProperty(this,"window",{value:t,writable:!1}),this.mesonToHost=e?"https://testnet.meson.to":"https://meson.to",this._promise=null}async open(t,e){if(e||(e=n(this.window)?"iframe":"popup"),"iframe"===e)return this._openIframe(t);if("popup"===e)return this._openPopup(t);throw new Error(`Unknown open type: ${e}`)}_openPopup(t){if(this._promise)return this._promise.focus&&this._promise.focus(),this._promise;const e=this.window.open(`${this.mesonToHost}/${t}`,"meson.to","width=360,height=640"),{dispose:o}=s(this.window,e,this.mesonToHost);return this._promise=new Promise((t=>{const s=setInterval((()=>{e.closed&&(o(),clearInterval(s),this._promise=null,t())}),500)})),this._promise.focus=()=>e.focus(),this._promise}_openIframe(t){if(this._promise)return this._promise;const e=this.window.document,o=this.window.innerWidth>440,n=e.createElement("div");n.style="position:fixed;inset:0;z-index:99999;overflow:hidden;display:flex;flex-direction:column;",n.style["justify-content"]=o?"center":"end";const i=e.createElement("div");i.style="position:fixed;inset:0;transition:background 0.4s;",i.ontouchmove=t=>t.preventDefault();const r=e.createElement("div");r.style="z-index:10;display:flex;flex-direction:column;align-items:center;",r.ontouchmove=t=>t.preventDefault(),o?(r.style.padding="24px 0",r.style["max-height"]="100%",r.style["overflow-y"]="auto"):(r.style["padding-top"]="20px",r.style.transform="translateY(900px)",r.style.transition="transform 0.4s",r.onclick=t=>t.stopPropagation());const a=e.createElement("div");let l;if(a.style="position:relative;width:100%;max-width:440px;flex-shrink:0;background:#ecf5f0;overflow:hidden;box-shadow:0 0px 24px 0px rgb(0 0 0 / 40%)",o){a.style["border-radius"]="20px",a.style.opacity="0",a.style.transition="opacity 0.25s";const t=e.createElement("div");t.style="position:absolute;top:12px;right:16px;height:24px;font-size:28px;line-height:24px;cursor:pointer;color:#0004;",t.onmouseover=()=>{t.style.color="#000a"},t.onmouseout=()=>{t.style.color="#0004"},t.innerHTML="Ã—",a.appendChild(t)}else{a.style["border-radius"]="20px 20px 0 0",a.style["padding-bottom"]="200px",l=e.createElement("div"),l.style="z-index:100;position:absolute;top:10px;left:calc(50% - 50px);cursor:pointer;",l.style.transform="translateZ(10px)";const t=e.createElement("div");t.style="background:#000;height:4px;width:60px;border-radius:2px;margin:20px;overflow:hidden;",r.appendChild(l),l.appendChild(t)}const p=e.createElement("iframe");p.style="z-index:50;width:100%;max-height:518px;overflow:hidden;border:none;transition:max-height 0.2s;",p.src=`${this.mesonToHost}/${t}`,o?(p.style.height="calc(100vh - 48px)",p.style["margin-top"]="-8px"):(p.style.height="calc(100vh - 80px)",p.style.transform="translateY(1000px)",p.onload=()=>{p.onload=void 0,setTimeout((()=>{p.style.transform=""}),100)});const d=t=>{p.style["max-height"]=t+"px"};n.appendChild(i),n.appendChild(r),r.appendChild(a),a.appendChild(p);const c=this;return this._promise=new Promise((t=>{if(l){let t=0;l.ontouchstart=o=>{o.preventDefault();const s=o.touches[0].clientY;r.style.transition="none";const i=e.createElement("div");i.style="position:absolute;inset:0;z-index:100;",i.onclick=t=>t.stopPropagation(),l.ontouchend=e=>{t<100?(r.style.transition="transform 0.4s",r.style.transform="translateY(200px)"):(r.style.transition="transform 0.2s",r.style["transition-timing-function"]="linear",h.close(),setTimeout((()=>{r.style["transition-timing-function"]="ease",r.style.transition="transform 0.4s"}),200)),e.preventDefault(),n.removeChild(i),l.ontouchmove=null,l.ontouchend=null},l.ontouchmove=e=>{e.preventDefault(),t=e.touches[0].clientY-s,t<-100&&(t=-100),r.style.transform=`translateY(${200+t}px)`},n.appendChild(i)}}const h={blocked:!1,block(t=!0){this.blocked=t},close(){if(this.blocked)return p.contentWindow.postMessage({source:"app",data:{closeBlocked:!0}},c.mesonToHost),void(r.style.transform="translateY(200px)");o?a.style.opacity="0":r.style.transform="translateY(900px)",i.style.background="transparent",setTimeout((()=>{e.body.removeChild(n)}),400),c._promise=null,m(),t()}};e.body.appendChild(n),n.onclick=()=>h.close();const{dispose:m}=s(this.window,p.contentWindow,this.mesonToHost,d,h);setTimeout((()=>{i.style.background="#0006",o?a.style.opacity="1":r.style.transform="translateY(200px)"}),0)})),this._promise}onCompleted(t){if(this._callback)throw new Error("meson2.onCompleted listener already registered");if("function"!=typeof t)throw new Error("callback is not a valid function");return this._callback=({data:e})=>{"meson.to"===e.source&&e.data&&e.data.swapId&&t(e.data)},this.window.addEventListener("message",this._callback),{dispose:()=>{this.window.removeEventListener("message",this._callback),this._callback=null}}}}},673:t=>{t.exports=function(t){const e=t.navigator.userAgentData?.platform||t.navigator.platform||"unknown";return/(iPhone|iPad|iPod|Linux arm|Linux aar|Android)/.test(e)}}},e={},o=function o(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,o),i.exports}(138);MesonTo=o})();