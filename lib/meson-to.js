var MesonTo;(()=>{var e={663:e=>{e.exports=function(e,t,o,s){const i=i=>{if("metamask-inpage"===i.data.target){const{data:e}=i.data.data;return void(["metamask_chainChanged","metamask_accountsChanged"].includes(e.method)&&t.postMessage({source:"app",data:e},o))}if(i.origin!==o)return;const{source:r,data:a}=i.data;if("meson.to"===r)if("2.0"!==a.jsonrpc)a.copy?e.navigator.clipboard.writeText(a.copy):s&&(a.close?(n(),s.block(!1),s.close()):"boolean"==typeof a.blockClose&&s.block(a.blockClose));else{if("get-origin"===a.method)return void t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e.origin}},o);if("get-ethereum"===a.method){const e=Object.fromEntries(Object.keys(ethereum).filter((e=>!["function","object"].includes(typeof ethereum[e]))).map((e=>[e,ethereum[e]])));return void t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e}},o)}e.ethereum.request({method:a.method,params:a.params}).then((e=>{t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e}},o)})).catch((e=>{t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,error:e}},o)}))}};e.addEventListener("message",i);const n=()=>e.removeEventListener("message",i);return{dispose:n}}},138:(e,t,o)=>{const s=o(663),i=o(673);e.exports=class{constructor(e,t=!1){Object.defineProperty(this,"window",{value:e,writable:!1}),this.mesonToHost=t?"https://testnet.meson.to":"https://meson.to",this._promise=null}async open(e,t){if(t||(t=i(this.window)?"iframe":"popup"),"iframe"===t)return this._openIframe(e);if("popup"===t)return this._openPopup(e);throw new Error(`Unknown open type: ${t}`)}_openPopup(e){if(this._promise)return this._promise.focus&&this._promise.focus(),this._promise;const t=this.window.open(`${this.mesonToHost}/${e}`,"meson.to","width=360,height=640"),{dispose:o}=s(this.window,t,this.mesonToHost);return this._promise=new Promise((e=>{const s=setInterval((()=>{t.closed&&(o(),clearInterval(s),this._promise=null,e())}),500)})),this._promise.focus=()=>t.focus(),this._promise}_openIframe(e){if(this._promise)return this._promise;const t=this.window.document,o=this.window.innerWidth>440,i=t.createElement("div");i.style="position:fixed;inset:0;z-index:99999;overflow:hidden;display:flex;flex-direction:column;",i.style["justify-content"]=o?"center":"end";const n=t.createElement("div");n.style="position:fixed;inset:0;transition:background 0.4s;";const r=t.createElement("div");r.style="z-index:20;max-height:100%;display:flex;flex-direction:column;align-items:center;",o&&(r.style.padding="24px 0",r.style["overflow-y"]="auto");const a=t.createElement("div");if(a.style="position:relative;width:100%;max-width:440px;flex-shrink:0;background:#ecf5f0;overflow:hidden;box-shadow:0 0px 24px 0px rgb(0 0 0 / 40%)",o){a.style["border-radius"]="20px",a.style.opacity="0",a.style.transition="opacity 0.25s";const e=t.createElement("div");e.style="position:absolute;top:12px;right:16px;height:24px;font-size:28px;line-height:24px;cursor:pointer;color:#0004;",e.onmouseover=()=>{e.style.color="#000a"},e.onmouseout=()=>{e.style.color="#0004"},e.innerHTML="Ã—",a.appendChild(e)}else a.style["border-radius"]="20px 20px 0 0",a.style.transform="translateY(600px)",a.style.transition="transform 0.4s",a.innerHTML="<div style='position:absolute;top:8px;left:0;width:100%;display:flex;flex-direction:column;align-items:center'><div style='background:#444;height:4px;width:60px;border-radius:2px;overflow:hidden;'></div></div>";const d=t.createElement("iframe");d.style="width:100%;max-height:600px;overflow:hidden;",d.src=`${this.mesonToHost}/${e}`,o?(d.style.height="calc(100vh - 48px)",d.style["min-height"]="520px",d.style["margin-top"]="-8px"):d.style.height="calc(100vh - 80px)",i.appendChild(n),i.appendChild(r),r.appendChild(a),a.appendChild(d);const p=this;return this._promise=new Promise((e=>{const r={blocked:!1,block(e=!0){this.blocked=e},close(){this.blocked?d.contentWindow.postMessage({source:"app",data:{closeBlocked:!0}},p.mesonToHost):(n.style.background="transparent",o?a.style.opacity="0":a.style.transform="translateY(600px)",setTimeout((()=>{t.body.removeChild(i)}),400),p._promise=null,l(),e())}};t.body.appendChild(i),i.onclick=()=>r.close();const{dispose:l}=s(this.window,d.contentWindow,this.mesonToHost,r);setTimeout((()=>{n.style.background="#0006",o?a.style.opacity="1":a.style.transform="translateY(0)"}),0)})),this._promise}onCompleted(e){if(this._callback)throw new Error("meson2.onCompleted listener already registered");if("function"!=typeof e)throw new Error("callback is not a valid function");return this._callback=({data:t})=>{"meson.to"===t.source&&t.data&&t.data.swapId&&e(t.data)},this.window.addEventListener("message",this._callback),{dispose:()=>{this.window.removeEventListener("message",this._callback),this._callback=null}}}}},673:e=>{e.exports=function(e){const t=e.navigator.userAgentData?.platform||e.navigator.platform||"unknown";return/(iPhone|iPad|iPod|Linux arm|Linux aar|Android)/.test(t)}}},t={},o=function o(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}(138);MesonTo=o})();