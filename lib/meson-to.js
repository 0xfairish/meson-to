var MesonTo;(()=>{var e={663:e=>{e.exports=function(e,t,s,o){const i=i=>{if("metamask-inpage"===i.data.target){const{data:e}=i.data.data;return void(["metamask_chainChanged","metamask_accountsChanged"].includes(e.method)&&t.postMessage({source:"app",data:e},s))}if(i.origin!==s)return;const{source:r,data:a}=i.data;if("meson.to"===r)if(a.close)n(),o();else if(a.copy)e.navigator.clipboard.writeText(a.copy);else if("2.0"===a.jsonrpc){if("get-origin"===a.method)return void t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e.origin}},s);if("get-ethereum"===a.method){const e=Object.fromEntries(Object.keys(ethereum).filter((e=>!["function","object"].includes(typeof ethereum[e]))).map((e=>[e,ethereum[e]])));return void t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e}},s)}e.ethereum.request({method:a.method,params:a.params}).then((e=>{t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,result:e}},s)})).catch((e=>{t.postMessage({source:"app",data:{jsonrpc:"2.0",id:a.id,error:e}},s)}))}};e.addEventListener("message",i);const n=()=>e.removeEventListener("message",i);return{dispose:n}}},138:(e,t,s)=>{const o=s(663),i=s(673);e.exports=class{constructor(e,t=!1){Object.defineProperty(this,"window",{value:e,writable:!1}),this.mesonToHost=t?"https://testnet.meson.to":"https://meson.to",this._promise=null}async open(e,t){if(t||(t=i(this.window)?"iframe":"popup"),"iframe"===t)return this._openIframe(e);if("popup"===t)return this._openPopup(e);throw new Error(`Unknown open type: ${t}`)}_openPopup(e){if(this._promise)return this._promise.focus&&this._promise.focus(),this._promise;const t=this.window.open(`${this.mesonToHost}/${e}`,"meson.to","width=360,height=640"),{dispose:s}=o(this.window,t,this.mesonToHost,(()=>t.close()));return this._promise=new Promise((e=>{const o=setInterval((()=>{t.closed&&(s(),clearInterval(o),this._promise=null,e())}),500)})),this._promise.focus=()=>t.focus(),this._promise}_openIframe(e){return this._promise||(this._promise=new Promise((t=>{const s=this.window.document,i=this.window.innerWidth>440,n=s.createElement("div");n.style="position:relative;z-index:99999;";const r=s.createElement("div");r.style="position:fixed;inset:0;transition:background 0.4s;";const a=s.createElement("div");a.style="z-index:20;position:fixed;inset:0;overflow-y:auto;display:flex;flex-direction:column;align-items:center;overflow:hidden;",a.style["justify-content"]=i?"center":"end";const d=s.createElement("div");d.style="width:100%;max-width:440px;flex-shrink:0;background:#ecf5f0;overflow:hidden;box-shadow:0 0px 24px 0px rgb(0 0 0 / 40%)",i?(d.style["border-radius"]="20px",d.style.opacity="0",d.style.transition="opacity 0.25s"):(d.style["border-radius"]="20px 20px 0 0",d.style.transform="translateY(620px)",d.style.transition="transform 0.4s",d.innerHTML="<div style='height:20px;display:flex;align-items:center;justify-content:center'><div style='background:black;height:4px;width:60px;border-radius:2px;overflow:hidden'></div></div>");const p=s.createElement("iframe");p.style="width:100%;max-height:592px;height:calc(100vh - 120px);overflow:hidden;",p.src=`${this.mesonToHost}/${e}`,n.appendChild(r),n.appendChild(a),a.appendChild(d),d.appendChild(p);const c=()=>{r.style.background="transparent",i?d.style.opacity="0":d.style.transform="translateY(620px)",setTimeout((()=>{s.body.removeChild(n)}),400),this._promise=null,t()};n.onclick=c,s.body.appendChild(n),o(this.window,p.contentWindow,this.mesonToHost,c),setTimeout((()=>{r.style.background="#00000060",i?d.style.opacity="1":d.style.transform="translateY(0)"}),0)}))),this._promise}onCompleted(e){if(this._callback)throw new Error("meson2.onCompleted listener already registered");if("function"!=typeof e)throw new Error("callback is not a valid function");return this._callback=({data:t})=>{"meson.to"===t.source&&t.data&&t.data.swapId&&e(t.data)},this.window.addEventListener("message",this._callback),{dispose:()=>{this.window.removeEventListener("message",this._callback),this._callback=null}}}}},673:e=>{e.exports=function(e){const t=e.navigator.userAgentData?.platform||e.navigator.platform||"unknown";return/(iPhone|iPad|iPod|Linux arm|Linux aar|Android)/.test(t)}}},t={},s=function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,s),n.exports}(138);MesonTo=s})();